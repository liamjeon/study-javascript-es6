<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //async, await
        //async를 function 앞에 붙히면 함수가 Promise 역할 가능
        //함수 실행 후에 Promise 오브젝트가 남음
        //단점은 성공만 판정 가능
        async function 더하기(){
            //return 1 + 1;
            //return Promise.reject('실패') //실패를 구현도 가능

            var 프로미스 = new Promise(function(성공,실패){
                var 어려운연산 = 1+1;
                실패(100);
            });

            //아래 코드와 같은 동작
            //await : //프로미스가 해결(성공or실패)할때까지 기다림
            //async 안에서 await then 대신 사용가능
            //실패가뜨면 에러나고 멈춤 --> 방지하려면 try {이거해보고 에러나면} catch {이걸실행} 사용
            try{
                var 결과 = await 프로미스; 
                console.log(결과);
            }catch{
                console.log('연산 실패!');
            }

            //프로미스 내의 연상이 성공하면 코드를 실행.
            //프로미스.then(function(){
            //    console.log('성공!')
            //})
        }

        더하기();
        //더하기().then(function(결과){
        //    console.log('성공!'+ 결과)        
        //})
    </script>
</body>
</html>